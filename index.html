<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Estoque</title>
</head>

<body>
    <script>
        
        var x = 0
        var produto = []
        var estoque = []
        var valorvenda = []

        while (x != 5) {
            x = parseInt(prompt("Digite a opção desejada \n 1 Adicionar Produto \n 2 Vender Produto \n 3 Atualizar Estoque \n 4 Pesquisar Produto \n 5 Sair do Sistema"));

            switch (x) {
                case 1:

                    produtos.push(prompt("Nome do produto"));
                    estoque.push(parseFloat(prompt("Número do estoque do produto")));
                    valorvenda.push(parseFloat(prompt("Valor do produto")));
                    alert(produto);
                    alert(estoque);
                    alert(valorvenda);
                    console.log(produto);
                    console.log(estoque);
                    console.log(valorvenda);

                    break;

                case 2:
                    
                    var prodv = prompt("Nome do produto vendido"); 
                    var qtvenda = parseInt(prompt("Quantidade vendida")); 
                    var pos = parseInt(produto.indexOf(prodv)); 
                    if (pos<0){
                        alert("Produto não cadastrado")
                    }
                    if (estoque[pos] > qtvenda) {
                        
                        estoque[pos] = estoque[pos] - qtvenda 
                    }
                    else {
                        alert("Estoque insuficiente");
                    }

                    console.log(estoque);
  
                    break;

                case 3:
                    
                    var prode = prompt("Nome do produto em estoque");
                    var pose = produtos.indexOf(prode);

                    if(pose<0)
                         {
                            alert("Produto não cadastrado"); 
                        }
                        else{
                       var qtcompra = parseInt(prompt("Quantidade comprada do produto"));     
                        }
                                        
                    for (var i = 0; i < produtos.length; i++) {
                        var v=0;
                        if (prode === produtos[i]) {
                            estoque[pose] = estoque[pose] + qtcompra
                        }
                        console.log("estoque atualizado"+estoque)
                    }
                    
                        break;

                case 4:
                    var prodpesq = prompt("Nome do produto para pesquisar");
                    var pospesq = parseInt(produto.indexOf(prodpesq));

                    for (var i = 0; i < produto.length; i++) {
                        var y=0;
                        if (prodpesq === produto[i]) {
                            alert(prodpesq);
                            alert(estoque[pospesq]);
                            alert(valorvenda[pospesq]);
                        }
                        y++
                    }
                    if(y==0)
                         {
                            alert("Produto não cadastrado"); 
                        }
                    
                    break;
            }
        }    
    </script>
</body>

</html>